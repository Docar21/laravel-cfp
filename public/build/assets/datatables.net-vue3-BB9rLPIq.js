import{C as x,r as p,w as j,k as I,D as A,E as w,d as b,G as C,s as S,H as V,u as B,I as E,J as L}from"./app-Bl3T2PEu.js";const g=["childRow","column-sizing","column-visibility","destroy","draw","error","init","length","order","page","preDraw","preInit","preXhr","processing","requestChild","search","stateLoadParams","stateLoaded","stateSaveParams","xhr","autoFill","preAutoFill","buttons-action","buttons-processing","column-reorder","key","key-blur","key-focus","key-refocus","key-return-submit","responsive-display","responsive-resize","rowgroup-datasrc","pre-row-reorder","row-reorder","row-reordered","dtsb-inserted","deselect","select","select-blur","selectItems","selectStyle","user-select","stateRestore-change"];let m;const O={name:"Datatables.netVue",inheritAttrs:!1,use(c){m=c}},P=x({...O,props:{ajax:null,columns:null,data:null,options:null},emits:g,setup(c,{expose:i}){const o=c,v=p(null),u={},n=p(),k=p([]);j(()=>o.data,r=>{let a=n.value;if(a){for(var s=Object.keys(u),t=0;t<s.length;t++)delete u[s[t]];a.clear(),a.rows.add(r).draw(!1)}},{deep:!0}),I(()=>{var r,a;const s=V();let t=o.options||{};if(o.data&&(t.data=o.data,D(t.data)),o.columns&&(t.columns=o.columns,h(t.columns,s)),o.ajax&&(t.ajax=o.ajax),t.columnDefs||(t.columnDefs=[]),s){let e=Object.keys(s.slots);for(let l=0;l<e.length;l++){let d=e[l];if(d.match(/^column\-/)){let f=d.replace("column-","");t.columnDefs.push({target:f.match(/^\d+$/)?parseInt(f):f+":name",render:"#"+d})}}h(t.columnDefs,s)}if(!m)throw new Error("DataTables library not set. See https://datatables.net/tn/19 for details.");n.value=new m(B(v),t),(r=n.value)!=null&&r.page.info().serverSide&&((a=n.value)==null||a.on("preDraw",function(){let e=Object.keys(u);for(var l=0;l<e.length;l++)delete u[e[l]]}));for(let e of g)n.value&&s&&n.value.on(e,function(){var l=Array.from(arguments),d=l.shift();l.unshift({event:d,dt:n}),l.unshift(e),s.emit.apply(s,l)})}),A(()=>{var r;(r=n.value)==null||r.destroy(!0)});function D(r){k.value=r.value?r.value.slice():r.slice()}function y(r){return function(a,s,t,e){let l=e.row+","+e.col;if(!u[l]){let d=E("div",r({cellData:a,colIndex:e.col,rowData:t,rowIndex:e.row,type:s}));u[l]=document.createElement("div"),L(d,u[l])}return u[l]}}function h(r,a){if(a)for(let t=0;t<r.length;t++){let e=r[t];if(typeof e.render=="string"&&e.render.charAt(0)==="#"){var s=e.render.replace("#","");a.slots[s]&&(e.render=y(a.slots[s]))}else if(typeof e.render=="object"&&typeof e.render.display=="string"&&e.render.display.charAt(0)==="#"){var s=e.render.display.replace("#","");a.slots[s]&&(e.render.display=y(a.slots[s]))}}}return i({dt:n}),(r,a)=>a[0]||(w(-1),a[0]=b("div",{class:"datatable"},[b("table",C({ref_key:"table",ref:v},r.$attrs,{style:{width:"100%"}}),[S(r.$slots,"default")],16)]),w(1),a[0])}}),z=(()=>{const c=P;return c.install=i=>{i.component("Datatables.netVue",c)},c})();export{z as V};
