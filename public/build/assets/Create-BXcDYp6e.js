import{Q as U,r as h,w as F,T as z,o as i,c as n,a,u as s,b as u,F as _,Z as P,d as e,e as A,B as T,g as v,f as w,h as M,v as G,i as k,t as c,l as f,O as H,m as R}from"./app-Bl3T2PEu.js";import{_ as g,a as Q}from"./InputLabel-CILBcnRa.js";import{_ as C}from"./TextInput-BKMRR2kh.js";import{_ as Z}from"./AuthenticatedLayout-BMfegmjn.js";import{P as b}from"./PrimaryButton-UegWikxo.js";import{_ as I}from"./Modal-BbqnY8Wa.js";import{_ as J}from"./SecondaryButton-CWnMiVNa.js";import"./ApplicationLogo-DFav5x2P.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Swal-C35AGuOh.js";const K=e("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},"Solicitudes -> Crear",-1),W={class:"py-8"},X={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Y={class:"overflow-hidden sm:rounded-lg"},ee=e("div",{class:"text-2xl"},[e("strong",null,"Crear Solicitud")],-1),te={class:"grid grid-flow-col grid-cols-3 p-5 justify-items-start align-middle"},oe={class:"grid grid-flow-row"},se=["value"],le=e("div",null,null,-1),ae=e("svg",{class:"h-4 w-4 mr-1 text-slate-100",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),e("line",{x1:"8",y1:"12",x2:"16",y2:"12"})],-1),re={class:"flex flex-row gap-4"},de={class:"basis-1/2 p-5 bg-white rounded-sm"},ie={class:"grid grid-flow-row"},ne={class:"grid grid-flow-col gap-2"},ce=e("br",null,null,-1),ue={class:"min-w-full text-start text-sm font-light text-surface dark:text-white"},pe=e("thead",{class:"border-b border-neutral-200 font-bold text-sm text-gray-950 dark:border-white/10"},[e("tr",{class:"bg-slate-200 border-b dark:bg-gray-800 dark:border-gray-700"},[e("th",{scope:"col",class:"py-3 px-6"},"Numero de Articulo"),e("th",{scope:"col",class:"py-3 px-6"},"Descripcion"),e("th",{scope:"col",class:"py-3 px-6"},"Acciones")])],-1),me={scope:"col",class:"py-3 px-6"},ge={scope:"col",class:"py-3 px-6"},he=e("svg",{class:"h-6 w-6 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1),_e={class:"basis-1/2 bg-white rounded-sm p-5"},fe={class:"flex flex-col"},be={key:0},xe={key:0,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert"},ye={class:"block sm:inline"},ve={class:"absolute top-0 bottom-0 right-0 px-4 py-3"},we=e("svg",{class:"fill-current h-6 w-6 text-red-500",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[e("title",null,"Close"),e("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})],-1),ke=[we],Ce={key:1,class:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",role:"alert"},Ve={class:"block sm:inline"},Be={class:"absolute top-0 bottom-0 right-0 px-4 py-3"},$e=e("svg",{class:"fill-current h-6 w-6 text-green-500",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[e("title",null,"Close"),e("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})],-1),Ae=[$e],Me=e("br",null,null,-1),Se={class:"min-w-full text-start text-sm font-light text-surface dark:text-white"},je=e("thead",{class:"border-b border-neutral-200 font-bold text-sm text-gray-950 dark:border-white/10"},[e("tr",{class:"bg-slate-200 border-b dark:bg-gray-800 dark:border-gray-700"},[e("th",{scope:"col",class:"py-3 px-6"},"Número de artículo"),e("th",{scope:"col",class:"py-3 px-6"},"Descripción de artículo"),e("th",{scope:"col",class:"py-3 px-6"},"Cantidad Requerida"),e("th",{scope:"col",class:"py-3 px-6"},"Comentarios"),e("th",{scope:"col",class:"py-3 px-6"},"Acciones")])],-1),Le={scope:"col",class:"py-3 px-6"},De={scope:"col",class:"py-3 px-6"},Ne={scope:"col",class:"py-3 px-6"},qe={scope:"col",class:"py-3 px-6"},Ee=e("svg",{class:"h-6 w-6 text-red-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("polyline",{points:"3 6 5 6 21 6"}),e("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),e("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),e("line",{x1:"14",y1:"11",x2:"14",y2:"17"})],-1),Oe={class:"p-6"},Ue=e("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Agrega un nuevo Articulo ",-1),Fe=e("div",null,null,-1),ze={class:"mt-6 flex justify-end"},We={__name:"Create",props:{articulos:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})},proyectos:{type:Object,default:()=>({})}},setup(S){const j=U(),L=S,V=h(!1);let p=h([]),d=h(),m=h(L.filters.search);F(m,r=>{H.get("solicitud-crear",{search:r},{preserveState:!0,replace:!0})});const l=z({usuario:j.props.auth.user.id,proyecto:"",fecha_deseada:"",cantidad:"",comentarios:"",coleccion:[]}),D=(r,o,t,y,E)=>{var $=1;p.value.forEach(O=>{O.id==r&&($++,d.value={msg:"El item que intentó agregar ya pertenece a la lista",id:1})}),$==1&&(p.value.push({id:r,num:o,desc:t,cant:y,comn:E}),console.log(l.coleccion),d.value={msg:"Producto Agregado Exitosamente",id:2}),l.reset()},N=()=>{l.coleccion=p,l.post(route("solicitud.store"),{onFinish:()=>l.reset()})};let x=[];const q=r=>{x.push(r),p.value=p.value.filter(o=>!x.includes(o.id)),x=[]},B=()=>{V.value=!1,l.reset()};return(r,o)=>(i(),n(_,null,[a(s(P),{title:"Dashboard"}),a(Z,null,{header:u(()=>[K]),default:u(()=>[e("div",W,[e("div",X,[e("div",Y,[ee,e("div",te,[e("div",oe,[a(g,{for:"name",value:"Solicitud desde:"}),A(e("select",{name:"proyecto","onUpdate:modelValue":o[0]||(o[0]=t=>s(l).proyecto=t)},[(i(!0),n(_,null,v(r.$page.props.proyectos,t=>(i(),n("option",{value:t.id},c(t.name),9,se))),256))],512),[[T,s(l).proyecto]])]),e("div",null,[a(g,{for:"fecha",value:"Fecha deseada de entrega:"}),a(C,{id:"fecha",type:"date",modelValue:s(l).fecha_deseada,"onUpdate:modelValue":o[1]||(o[1]=t=>s(l).fecha_deseada=t),pattern:"\\d{4}-\\d{2}-\\d{2}",required:"",autofocus:""},null,8,["modelValue"])]),le,a(b,{onClick:N,class:"bg-slate-500 text-base/4 hover:text-white"},{default:u(()=>[ae,w(" Guardar Solicitud ")]),_:1})])]),e("div",re,[e("div",de,[e("div",ie,[e("form",{onSubmit:o[5]||(o[5]=M((...t)=>r.s&&r.s(...t),["prevent"]))},[e("div",ne,[e("div",null,[a(g,{for:"name",value:"Descripcion del Articulo"}),A(e("input",{type:"text","onUpdate:modelValue":o[2]||(o[2]=t=>k(m)?m.value=t:m=t),placeholder:"Buscar...",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"},null,512),[[G,s(m)]])]),e("div",null,[a(g,{for:"cantidad",value:"Cantidad"}),a(C,{id:"cantidad",type:"text",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-20 p-2.5",modelValue:s(l).cantidad,"onUpdate:modelValue":o[3]||(o[3]=t=>s(l).cantidad=t),required:"",autofocus:"",autocomplete:"cantidad"},null,8,["modelValue"])]),e("div",null,[a(g,{for:"comentarios",value:"comentarios"}),a(C,{id:"comentarios",type:"text",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",modelValue:s(l).comentarios,"onUpdate:modelValue":o[4]||(o[4]=t=>s(l).comentarios=t),required:"",autofocus:"",autocomplete:"comentarios"},null,8,["modelValue"])])]),ce,e("table",ue,[pe,e("tbody",null,[(i(!0),n(_,null,v(r.$page.props.articulos.data,t=>(i(),n("tr",{class:"border-b dark:bg-gray-800 dark:border-gray-700",key:r.$page.props.articulos.data.id},[e("th",me,c(t.numero_articulo),1),e("th",ge,c(t.descripcion_articulo),1),e("th",null,[s(l).cantidad&&s(l).comentarios?(i(),R(b,{key:0,class:"bg-slate-200",onClick:y=>D(t.id,t.numero_articulo,t.descripcion_articulo,s(l).cantidad,s(l).comentarios)},{default:u(()=>[he]),_:2},1032,["onClick"])):f("",!0)])]))),128))])])],32)])]),e("div",_e,[e("div",fe,[s(d)?(i(),n("div",be,[s(d).id==1?(i(),n("div",xe,[e("span",ye,c(s(d).msg),1),e("span",ve,[e("button",{onClick:o[6]||(o[6]=t=>k(d)?d.value=null:d=null)},ke)])])):f("",!0),s(d).id==2?(i(),n("div",Ce,[e("span",Ve,c(s(d).msg),1),e("span",Be,[e("button",{onClick:o[7]||(o[7]=t=>k(d)?d.value=null:d=null)},Ae)])])):f("",!0)])):f("",!0),Me,e("table",Se,[je,e("tbody",null,[(i(!0),n(_,null,v(s(p),t=>(i(),n("tr",{class:"border-b dark:bg-gray-800 dark:border-gray-700",key:t.id},[e("th",Le,c(t.num),1),e("th",De,c(t.desc),1),e("th",Ne,c(t.cant),1),e("th",qe,c(t.comn),1),e("th",null,[a(b,{class:"ms-3 bg-slate-200",onClick:y=>q(t.id)},{default:u(()=>[Ee]),_:2},1032,["onClick"])])]))),128))])])])])])])])]),_:1}),a(I,{"max-width":"",show:V.value,onClose:B},{default:u(()=>[e("div",Oe,[Ue,e("form",{onSubmit:o[8]||(o[8]=M((...t)=>r.nuevo&&r.nuevo(...t),["prevent"])),class:"px-8 pt-6 pb-8"},[e("div",null,[Fe,a(Q,{class:"mt-2",message:s(l).errors.name},null,8,["message"])]),e("div",ze,[a(J,{onClick:B},{default:u(()=>[w(" Cancelar ")]),_:1}),a(b,{class:"ms-3"},{default:u(()=>[w("Aceptar")]),_:1})])],32)])]),_:1},8,["show"])],64))}};export{We as default};
