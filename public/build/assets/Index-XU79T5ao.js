import{r as u,w as F,T as D,o as p,c as _,a as s,u as n,b as o,F as C,Z as z,d as e,e as L,v as T,i as U,f as d,g as R,t as h,h as $,O as q}from"./app-Bl3T2PEu.js";import{_ as H,a as I}from"./InputLabel-CILBcnRa.js";import{_ as Z}from"./TextInput-BKMRR2kh.js";import{_ as G}from"./AuthenticatedLayout-BMfegmjn.js";import{P as c}from"./PrimaryButton-UegWikxo.js";import{_ as x}from"./Modal-BbqnY8Wa.js";import{_ as g}from"./SecondaryButton-CWnMiVNa.js";import{_ as J}from"./Checkbox-bBwqE_q_.js";import"./ApplicationLogo-DFav5x2P.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Swal-C35AGuOh.js";const K=e("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},"Dashboard",-1),Q={class:"py-12"},W={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},X={class:"bg-white dark:bg-gray-800 dark:text-white overflow-hidden shadow-sm sm:rounded-lg"},Y={class:""},ee={class:"grid grid-flow-col grid-cols-3 p-5 justify-items-center"},se={class:""},te=e("div",{class:"text-2xl"},[e("strong",null,"Roles")],-1),oe=e("svg",{class:"h-4 w-4 mr-1 text-slate-100",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),e("line",{x1:"8",y1:"12",x2:"16",y2:"12"})],-1),ae={class:"text-gray-900 dark:text-gray-100"},le={class:"flex flex-col overflow-x-auto"},re={class:"sm:-mx-6 lg:-mx-8"},ie={class:"inline-block min-w-full py-2 sm:px-6 lg:px-8"},ne={class:"overflow-x-auto p-5"},de={class:"min-w-full text-start text-sm font-light text-surface dark:text-white"},ce=e("thead",{class:"border-b border-neutral-200 font-bold text-xl text-gray-950 dark:border-white/10"},[e("tr",{class:"bg-slate-200 border-b dark:bg-gray-800 dark:border-gray-700"},[e("th",{scope:"col",class:"py-3 px-6"},"Nombre de Rol"),e("th",{scope:"col",class:"py-3 px-6"},"Acciones")])],-1),ue={scope:"col",class:"py-3 px-6"},me=e("svg",{class:"h-6 w-6 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1),pe=e("svg",{class:"h-6 w-6 text-sky-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),_e=e("svg",{class:"h-6 w-6 text-red-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("polyline",{points:"3 6 5 6 21 6"}),e("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),e("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),e("line",{x1:"14",y1:"11",x2:"14",y2:"17"})],-1),fe={class:"p-6"},he=e("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Mostrando permisos de ",-1),xe={class:"mt-6 flex justify-end"},ge={class:"p-6"},ve={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},ye={class:"ms-2 text-sm text-gray-600 dark:text-gray-400"},ke={class:"mt-6 flex justify-end"},be={class:"p-6"},we=e("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Agrega un nuevo Rol ",-1),Ce={class:"mt-6 flex justify-end"},je={class:"p-6"},Re=e("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Â¿Estas Seguro que deseas eliminar este rol? ",-1),$e=e("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," Esta accion es irreversible. ",-1),Me={class:"mt-6 flex justify-end"},Le={__name:"Index",props:{roles:{type:Object,default:()=>({})},permisos:{type:Object,default:()=>({})},rolesPermisos:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})},permissionNames:{type:Object,default:()=>({})}},setup(M){const j=M,v=u([]);function S(a){j.permissionNames.forEach(i=>{i.rol_id===a&&(v.value.push(i.permiso_id),t.RolPermiso=v.value)})}let m=u(j.filters.search);F(m,a=>{q.get("roles",{search:a},{preserveState:!0,replace:!0})});const t=D({id:"",name:"",RolPermiso:[]});u(!1);const y=u(!1),k=u(!1),b=u(!1),w=u(!1),V=()=>{y.value=!0},E=a=>{t.id=a,w.value=!0},P=a=>{t.id=a,t.get(route("roles.edit",a),{onSuccess:()=>r(),onFinish:()=>t.reset()}),k.value=!0},B=(a,i)=>{t.id=a,t.name=i,S(a),b.value=!0},r=()=>{y.value=!1,w.value=!1,b.value=!1,k.value=!1,v.value=[],t.reset()},N=()=>{t.delete(route("roles.delete"),{preserveScroll:!0,onSuccess:()=>r(),onFinish:()=>t.reset()})};function A(){t.patch(route("roles.update")),t.reset(),r()}const O=()=>{t.post(route("roles.store"),{onSuccess:()=>r(),onFinish:()=>t.reset()})};return(a,i)=>(p(),_(C,null,[s(n(z),{title:"Dashboard-Admin"}),s(G,null,{header:o(()=>[K]),default:o(()=>[e("div",Q,[e("div",W,[e("div",X,[e("div",Y,[e("div",ee,[e("div",se,[L(e("input",{type:"text","onUpdate:modelValue":i[0]||(i[0]=l=>U(m)?m.value=l:m=l),placeholder:"Search...",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-60 p-2.5"},null,512),[[T,n(m)]])]),te,s(c,{onClick:V,class:"bg-slate-500 text-base/4 hover:text-white"},{default:o(()=>[oe,d(" Nuevo ")]),_:1})]),e("div",ae,[e("div",le,[e("div",re,[e("div",ie,[e("div",ne,[e("table",de,[ce,e("tbody",null,[(p(!0),_(C,null,R(a.$page.props.roles.data,l=>(p(),_("tr",{class:"border-b dark:bg-gray-800 dark:border-gray-700",key:a.$page.props.roles.data.id},[e("th",ue,h(l.name),1),e("th",null,[s(c,{class:"bg-slate-200",onClick:f=>B(l.id,l.name)},{default:o(()=>[me]),_:2},1032,["onClick"]),s(c,{class:"ms-3 bg-slate-200",onClick:f=>P(l.id,l.name)},{default:o(()=>[pe]),_:2},1032,["onClick"]),s(c,{class:"ms-3 bg-slate-200",onClick:f=>E(l.id)},{default:o(()=>[_e]),_:2},1032,["onClick"])])]))),128))])])])])])])])])])])])]),_:1}),s(x,{show:k.value,onClose:r},{default:o(()=>[e("div",fe,[he,e("div",xe,[s(g,{onClick:r},{default:o(()=>[d(" Cancelar ")]),_:1}),s(c,{class:"ms-3"},{default:o(()=>[d("Aceptar")]),_:1})])])]),_:1},8,["show"]),s(x,{show:b.value,onClose:r},{default:o(()=>[e("div",ge,[e("h2",ve," Agregar Permiso a "+h(n(t).name)+" "+h(n(t).id),1),e("form",{onSubmit:$(A,["prevent"]),class:"px-8 pt-6 pb-8"},[(p(!0),_(C,null,R(a.$page.props.permisos,l=>(p(),_("div",{key:a.$page.props.permisos.id},[s(J,{checked:n(t).RolPermiso,"onUpdate:checked":i[1]||(i[1]=f=>n(t).RolPermiso=f),value:l.id},null,8,["checked","value"]),e("span",ye,h(l.name),1)]))),128)),e("div",ke,[s(g,{onClick:r},{default:o(()=>[d(" Cancelar ")]),_:1}),s(c,{class:"ms-3"},{default:o(()=>[d("Aceptar")]),_:1})])],32)])]),_:1},8,["show"]),s(x,{show:y.value,onClose:r},{default:o(()=>[e("div",be,[we,e("form",{onSubmit:$(O,["prevent"]),class:"px-8 pt-6 pb-8"},[e("div",null,[s(H,{for:"name",value:"Nombre del Rol"}),s(Z,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:n(t).name,"onUpdate:modelValue":i[2]||(i[2]=l=>n(t).name=l),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),s(I,{class:"mt-2",message:n(t).errors.name},null,8,["message"])]),e("div",Ce,[s(g,{onClick:r},{default:o(()=>[d(" Cancelar ")]),_:1}),s(c,{class:"ms-3"},{default:o(()=>[d("Aceptar")]),_:1})])],32)])]),_:1},8,["show"]),s(x,{show:w.value,onClose:r},{default:o(()=>[e("div",je,[Re,$e,e("div",Me,[s(g,{onClick:r},{default:o(()=>[d(" Cancelar ")]),_:1}),s(c,{class:"ms-3",onClick:N},{default:o(()=>[d(" Eliminar Rol ")]),_:1})])])]),_:1},8,["show"])],64))}};export{Le as default};
