import{r as _,w as A,T as D,o as d,c,a as s,u as n,b as a,F as h,Z as F,d as e,e as M,v as z,i as L,f as u,g,t as x,h as R,O as T,j as q}from"./app-Bl3T2PEu.js";import{_ as H,a as I}from"./InputLabel-CILBcnRa.js";import{_ as Z}from"./TextInput-BKMRR2kh.js";import{_ as G}from"./AuthenticatedLayout-BMfegmjn.js";import{P as p}from"./PrimaryButton-UegWikxo.js";import{_ as y}from"./Modal-BbqnY8Wa.js";import{_ as k}from"./SecondaryButton-CWnMiVNa.js";import{_ as J}from"./Checkbox-bBwqE_q_.js";import"./ApplicationLogo-DFav5x2P.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Swal-C35AGuOh.js";const K=e("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},"Dashboard",-1),Q={class:"py-12"},W={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},X={class:"bg-white dark:bg-gray-800 dark:text-white overflow-hidden shadow-sm sm:rounded-lg"},Y={class:""},ee={class:"grid grid-flow-col grid-cols-3 p-5 justify-items-center"},se={class:""},te=e("div",{class:"text-2xl"},[e("strong",null,"Usuarios")],-1),oe=e("svg",{class:"h-4 w-4 mr-1 text-slate-100",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),e("line",{x1:"8",y1:"12",x2:"16",y2:"12"})],-1),ae={class:"text-gray-900 dark:text-gray-100"},le={class:"flex flex-col overflow-x-auto"},re={class:"sm:-mx-6 lg:-mx-8"},ie={class:"inline-block min-w-full py-2 sm:px-6 lg:px-8"},ne={class:"overflow-x-auto p-5"},de={class:"min-w-full text-start text-sm font-light text-surface dark:text-white"},ce=e("thead",{class:"border-b border-neutral-200 font-bold text-xl text-gray-950 dark:border-white/10"},[e("tr",{class:"bg-slate-200 border-b dark:bg-gray-800 dark:border-gray-700"},[e("th",{scope:"col",class:"py-3 px-6"},"Nombre de Usuario"),e("th",{scope:"col",class:"py-3 px-6"},"Rol"),e("th",{scope:"col",class:"py-3 px-6"},"Estado")])],-1),ue={scope:"col",class:"py-3 px-6"},me={scope:"col",class:"py-3 px-6"},pe=e("svg",{class:"h-6 w-6 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1),_e=e("svg",{class:"h-6 w-6 text-sky-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),fe=e("svg",{class:"h-6 w-6 text-red-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("polyline",{points:"3 6 5 6 21 6"}),e("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),e("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),e("line",{x1:"14",y1:"11",x2:"14",y2:"17"})],-1),he={class:"p-6"},xe=e("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Mostrando permisos de ",-1),ve={class:"mt-6 flex justify-end"},ge={class:"p-6"},ye={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},ke=["value"],be={class:"ms-2 text-sm text-gray-600 dark:text-gray-400"},we={class:"mt-6 flex justify-end"},Ce={class:"p-6"},Re=e("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Agrega un nuevo Usario ",-1),je={class:"mt-6 flex justify-end"},$e={class:"p-6"},Ee=e("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Â¿Estas Seguro que deseas eliminar este rol? ",-1),Me=e("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," Esta accion es irreversible. ",-1),Pe={class:"mt-6 flex justify-end"},Ve={class:"ms-2 text-sm text-gray-600 dark:text-gray-400"},qe={__name:"Index",props:{usuarios:{type:Object,default:()=>({})},permisos:{type:Object,default:()=>({})},roles:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})},allRolesPermission:{type:Object,default:()=>({})}},setup(P){const j=P,v=_();function $(l){j.allRolesPermission.forEach(r=>{r.id===l&&r.roles.forEach(t=>{v.value=t.id,console.log(v.value),o.RolPermiso=v.value})})}let f=_(j.filters.search);A(f,l=>{T.get("roles",{search:l},{preserveState:!0,replace:!0})});const o=D({id:"",name:"",RolPermiso:""}),b=_(!1),E=_(!1),w=_(!1),C=_(!1),V=()=>{b.value=!0},S=l=>{o.id=l,$(l),C.value=!0},B=(l,r)=>{o.id=l,o.name=r,$(l),w.value=!0},i=()=>{b.value=!1,C.value=!1,w.value=!1,E.value=!1,v.value="",o.reset()},N=()=>{o.delete(route("admin.delete"),{preserveScroll:!0,onSuccess:()=>i(),onFinish:()=>o.reset()})};function O(){o.patch(route("admin.update")),o.reset(),i()}const U=()=>{o.post(route("admin.store"),{onSuccess:()=>i(),onFinish:()=>o.reset()})};return(l,r)=>(d(),c(h,null,[s(n(F),{title:"Dashboard-Admin"}),s(G,null,{header:a(()=>[K]),default:a(()=>[e("div",Q,[e("div",W,[e("div",X,[e("div",Y,[e("div",ee,[e("div",se,[M(e("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=t=>L(f)?f.value=t:f=t),placeholder:"Search...",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-60 p-2.5"},null,512),[[z,n(f)]])]),te,s(p,{onClick:V,class:"bg-slate-500 text-base/4 hover:text-white"},{default:a(()=>[oe,u(" Nuevo ")]),_:1})]),e("div",ae,[e("div",le,[e("div",re,[e("div",ie,[e("div",ne,[e("table",de,[ce,e("tbody",null,[(d(!0),c(h,null,g(l.$page.props.allRolesPermission,t=>(d(),c("tr",{class:"border-b dark:bg-gray-800 dark:border-gray-700",key:l.$page.props.usuarios.id},[e("th",ue,x(t.name),1),e("th",me,[(d(!0),c(h,null,g(t.roles,m=>(d(),c("div",null,x(m.name),1))),256))]),e("th",null,[s(p,{class:"bg-slate-200",onClick:m=>B(t.id,t.name)},{default:a(()=>[pe]),_:2},1032,["onClick"]),s(p,{class:"ms-3 bg-slate-200",onClick:m=>l.modalVer(t.id,t.name)},{default:a(()=>[_e]),_:2},1032,["onClick"]),s(p,{class:"ms-3 bg-slate-200",onClick:m=>S(t.id)},{default:a(()=>[fe]),_:2},1032,["onClick"])])]))),128))])])])])])])])])])])])]),_:1}),s(y,{show:E.value,onClose:i},{default:a(()=>[e("div",he,[xe,e("div",ve,[s(k,{onClick:i},{default:a(()=>[u(" Cancelar ")]),_:1}),s(p,{class:"ms-3"},{default:a(()=>[u("Aceptar")]),_:1})])])]),_:1},8,["show"]),s(y,{show:w.value,onClose:i},{default:a(()=>[e("div",ge,[e("h2",ye," Editar Rol a "+x(n(o).name),1),e("form",{onSubmit:R(O,["prevent"]),class:"px-8 pt-6 pb-8"},[(d(!0),c(h,null,g(l.$page.props.roles,t=>(d(),c("div",{key:l.$page.props.roles.id},[M(e("input",{"onUpdate:modelValue":r[1]||(r[1]=m=>n(o).RolPermiso=m),value:t.id,type:"radio",name:"rol",id:"rol"},null,8,ke),[[q,n(o).RolPermiso]]),e("span",be,x(t.name),1)]))),128)),e("div",we,[s(k,{onClick:i},{default:a(()=>[u(" Cancelar ")]),_:1}),s(p,{class:"ms-3"},{default:a(()=>[u("Aceptar")]),_:1})])],32)])]),_:1},8,["show"]),s(y,{show:b.value,onClose:i},{default:a(()=>[e("div",Ce,[Re,e("form",{onSubmit:R(U,["prevent"]),class:"px-8 pt-6 pb-8"},[e("div",null,[s(H,{for:"name",value:"Nombre del Rol"}),s(Z,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:n(o).name,"onUpdate:modelValue":r[2]||(r[2]=t=>n(o).name=t),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),s(I,{class:"mt-2",message:n(o).errors.name},null,8,["message"])]),e("div",je,[s(k,{onClick:i},{default:a(()=>[u(" Cancelar ")]),_:1}),s(p,{class:"ms-3"},{default:a(()=>[u("Aceptar")]),_:1})])],32)])]),_:1},8,["show"]),s(y,{show:C.value,onClose:i},{default:a(()=>[e("div",$e,[Ee,Me,e("div",Pe,[e("form",{onSubmit:R(N,["prevent"]),class:"px-8 pt-6 pb-8"},[(d(!0),c(h,null,g(l.$page.props.roles,t=>(d(),c("div",{key:l.$page.props.roles.id},[s(J,{checked:n(o).RolPermiso,"onUpdate:checked":r[3]||(r[3]=m=>n(o).RolPermiso=m),value:t.id},null,8,["checked","value"]),e("span",Ve,x(t.name),1)]))),128)),s(k,{onClick:i},{default:a(()=>[u(" Cancelar ")]),_:1}),s(p,{class:"ms-3"},{default:a(()=>[u(" Eliminar Rol ")]),_:1})],32)])])]),_:1},8,["show"])],64))}};export{qe as default};
